<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name="baidu-site-verification" content="codeva-3VTxLtnqFP" /><meta name='description' content="ÂàÜÊûê SwissTable È´òÊÄßËÉΩÁöÑÂéüÂõ†‰ª•ÂèäÂÆûÁé∞">
<title> SwissTable ‰ºöÊàê‰∏∫ Golang std mapÂòõÔºü</title>

<link rel='canonical' href='https://huizhou92.com/zh-cn/p/swisstable-%E4%BC%9A%E6%88%90%E4%B8%BA-golang-std-map%E5%98%9B/'>

<link rel="stylesheet" href="/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css"><meta property='og:title' content=" SwissTable ‰ºöÊàê‰∏∫ Golang std mapÂòõÔºü">
<meta property='og:description' content="ÂàÜÊûê SwissTable È´òÊÄßËÉΩÁöÑÂéüÂõ†‰ª•ÂèäÂÆûÁé∞">
<meta property='og:url' content='https://huizhou92.com/zh-cn/p/swisstable-%E4%BC%9A%E6%88%90%E4%B8%BA-golang-std-map%E5%98%9B/'>
<meta property='og:site_name' content='huizhou92&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='go' /><meta property='article:tag' content='SwissTable' /><meta property='article:published_time' content='2024-09-30T11:25:51&#43;08:00'/><meta property='article:modified_time' content='2024-09-30T11:25:48&#43;08:00'/><meta property='og:image' content='https://images.hxzhouh.com/blog-images/2024/09/f08c74aea8485d51d461d18494df416e.png' />
<meta name="twitter:site" content="@https://x.com/piaopiaopig">
    <meta name="twitter:creator" content="@https://x.com/piaopiaopig"><meta name="twitter:title" content=" SwissTable ‰ºöÊàê‰∏∫ Golang std mapÂòõÔºü">
<meta name="twitter:description" content="ÂàÜÊûê SwissTable È´òÊÄßËÉΩÁöÑÂéüÂõ†‰ª•ÂèäÂÆûÁé∞"><meta name="twitter:card" content="summary">
    <meta name="twitter:image" content='https://images.hxzhouh.com/blog-images/2024/09/f08c74aea8485d51d461d18494df416e.png' />
    <link rel="shortcut icon" href="/favicon.ico" />

  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-JMPMQ2QREG"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-JMPMQ2QREG');
        }
      </script>
    
  

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9000447749076746"
     crossorigin="anonymous"></script>

<script defer src="https://cloud.umami.is/script.js" data-website-id="e4ee8ffe-fb88-4635-9953-715598461baa"></script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/zh-cn/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu82a0a27be0be6253ef292d06d582a6ab_94926_300x0_resize_q75_box.jpeg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üòÑ</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/zh-cn">huizhou92&#39;s Blog</a></h1>
            <h2 class="site-description">Backend Engineer With A Focus On Golang, Cloud Computing, Data Storage And Efficiency Tools. Lifelong Learner.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/hxzhouh'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://x.com/piaopiaopig'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/zh-cn/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/zh-cn/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/zh-cn/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/zh-cn/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/zh-cn/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://huizhou92.com/" >English</option>
                                
                                    <option value="https://huizhou92.com/zh-cn/" selected>‰∏≠Êñá</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#‰º†Áªü-hashtable">‰º†Áªü <code>hashtable</code></a>
      <ol>
        <li><a href="#ÈìæË°®Ê≥ï">ÈìæË°®Ê≥ï</a></li>
        <li><a href="#Á∫øÊÄßÊé¢ÊµãÊ≥ï">Á∫øÊÄßÊé¢ÊµãÊ≥ï</a></li>
        <li><a href="#go-hashmap-Â¶Ç‰ΩïÂ≠òÂÇ®Êï∞ÊçÆ">go hashmap Â¶Ç‰ΩïÂ≠òÂÇ®Êï∞ÊçÆ</a></li>
      </ol>
    </li>
    <li><a href="#swisstable‰∏ÄÁßçÈ´òÊïàÁöÑ-hashtable-ÂÆûÁé∞ÊñπÂºè">SwissTableÔºå‰∏ÄÁßçÈ´òÊïàÁöÑ <code>hashtable</code> ÂÆûÁé∞ÊñπÂºè</a>
      <ol>
        <li><a href="#swisstable-ÁöÑÂü∫Êú¨ÁªìÊûÑ">SwissTable ÁöÑÂü∫Êú¨ÁªìÊûÑ</a></li>
        <li><a href="#Ê∑ªÂä†Êï∞ÊçÆ">Ê∑ªÂä†Êï∞ÊçÆ</a></li>
        <li><a href="#swisstable-ÁöÑ‰ºòÂäø">SwissTable ÁöÑ‰ºòÂäø</a></li>
      </ol>
    </li>
    <li><a href="#ÊÄªÁªì">ÊÄªÁªì</a></li>
    <li><a href="#ÂèÇËÄÉÊñáÊ°£">ÂèÇËÄÉÊñáÊ°£</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/zh-cn/p/swisstable-%E4%BC%9A%E6%88%90%E4%B8%BA-golang-std-map%E5%98%9B/">
                
                    <img src="https://images.hxzhouh.com/blog-images/2024/09/f08c74aea8485d51d461d18494df416e.png" loading="lazy" alt="Featured image of post  SwissTable ‰ºöÊàê‰∏∫ Golang std mapÂòõÔºü" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/zh-cn/categories/tech/" style="background-color: #2a9d8f; color: #fff;">
                ÊäÄÊúØ
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/zh-cn/p/swisstable-%E4%BC%9A%E6%88%90%E4%B8%BA-golang-std-map%E5%98%9B/"> SwissTable ‰ºöÊàê‰∏∫ Golang std mapÂòõÔºü</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            ÂàÜÊûê SwissTable È´òÊÄßËÉΩÁöÑÂéüÂõ†‰ª•ÂèäÂÆûÁé∞
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Sep 30, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 4 ÂàÜÈíü
                </time>
            </div>
        
         
        <div class="article-analysic">&nbsp
    
            <?xml version="1.0" encoding="utf-8"?>

<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  
  <g id="read">
    <g>
      <path  d="M12,18.883a10.8,10.8,0,0,1-9.675-5.728,2.6,2.6,0,0,1,0-2.31A10.8,10.8,0,0,1,12,5.117a10.8,10.8,0,0,1,9.675,5.728h0a2.6,2.6,0,0,1,0,2.31A10.8,10.8,0,0,1,12,18.883ZM12,6.117a9.787,9.787,0,0,0-8.78,5.176,1.586,1.586,0,0,0,0,1.415A9.788,9.788,0,0,0,12,17.883a9.787,9.787,0,0,0,8.78-5.176,1.584,1.584,0,0,0,0-1.414h0A9.787,9.787,0,0,0,12,6.117Z"/>
      <path  d="M12,16.049A4.049,4.049,0,1,1,16.049,12,4.054,4.054,0,0,1,12,16.049Zm0-7.1A3.049,3.049,0,1,0,15.049,12,3.052,3.052,0,0,0,12,8.951Z"/>
      <circle  cx="12" cy="12" r="2.028"/>
    </g>
  </g>
</svg>
            <time class="article-words">
                <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> &nbspReads</span>
            </time>
        </div>
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>2022Âπ¥ÔºåÂ≠óËäÇË∑≥Âä®Áªô<code>Golang</code>Êèê‰∫Ü<a class="link" href="https://github.com/golang/go/issues/54766"  target="_blank" rel="noopener"
    >issue</a>Âª∫ËÆÆÊäämapÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÊîπÊàêSwissTableÁöÑ„ÄÇ2023Âπ¥ÔºådoltÂÜô‰∫Ü‰∏ÄÁØáÂçöÂÆ¢<a class="link" href="https://www.dolthub.com/blog/2023-03-28-swiss-map/"  target="_blank" rel="noopener"
    >SwissMap: A smaller, faster Golang Hash Table</a> ÂàÜ‰∫´‰ªñ‰ª¨ ËÆæËÆ°‰∫Ü‰∏Ä‰∏™Âü∫‰∫éSwissTable ÁöÑ Map ,ÂºïËµ∑‰∫ÜÂπøÊ≥õÁöÑÂÖ≥Ê≥®„ÄÇÁõÆÂâç Go Ê†∏ÂøÉÂõ¢ÈòüÂ∑≤ÁªèÂºÄÂßãÈáçÊñ∞ÂÆ°ËßÜ  <code>swisstable</code> ËÆæËÆ°ÔºåÂú®<a class="link" href="https://github.com/golang/go/blob/6a730e1ef0b7f312fe01815086a2eb5a25739f2d/src/runtime/map_swiss.go#L7"  target="_blank" rel="noopener"
    ><code>runtime</code></a>‰∏≠‰πüÊ∑ªÂä†‰∫ÜÈÉ®ÂàÜ‰ª£Á†ÅÔºåË∂ÅÁùÄÂÅáÊúüÔºåÂàöÂ•ΩÊúâÊó∂Èó¥Ê∑±ÂÖ•‰∫ÜËß£‰∏Ä‰∏ãÂéüÁêÜÔºåË∑ü<code>runtime map</code> Áõ∏ÊØîÊúâ‰ªÄ‰πàÂå∫Âà´Ôºå‰ª•Âèä‰∏∫‰ªÄ‰πàÂÆÉÂèØËÉΩ‰ºöÊàê‰∏∫<code>map</code>ÁöÑÊ†áÂáÜÂÆûÁé∞„ÄÇ</p>
<!-- more-->
<blockquote>
<p>This article was first published in the Medium MPP plan. If you are a Medium user, please follow me on <a class="link" href="https://medium.huizhou92.com/"  target="_blank" rel="noopener"
    >Medium</a>. Thank you very much.<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9000447749076746"
crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-9000447749076746"
    data-ad-slot="5063552270"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
</blockquote>
<p>Êú¨Êñá‰∏ç‰ºöÂÆåÂÖ®Ëß£Èáä<code>hashtable</code>ÊàñËÄÖ<code>swisstable</code>ÁöÑÂéüÁêÜ„ÄÇÊÇ®ÈúÄË¶ÅÂØπ<code>hashtable</code> Êúâ‰∏ÄÂÆöÁöÑ‰∫ÜËß£„ÄÇ</p>
<p>ÂìàÂ∏åË°®Êèê‰æõ‰∫Ü‰∏Ä‰∏™<code>key</code>Âà∞ÂØπÂ∫î<code>value</code>ÁöÑÊò†Â∞ÑÔºåÈÄöËøá‰∏Ä‰∏™<code>hashÂáΩÊï∞</code>Êää<code>key</code>ËΩ¨Êç¢ÊàêÊüê‰∏™‚Äú‰ΩçÁΩÆ‚ÄúÔºå‰ªéËøô‰∏™‰ΩçÁΩÆ‰∏äÂèØ‰ª•Áõ¥Êé•ÊãøÂà∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑvalueÔºå</p>
<h2 id="‰º†Áªü-hashtable">‰º†Áªü <code>hashtable</code>
</h2><p>ÂìàÂ∏åË°®Êèê‰æõ‰∫Ü‰∏Ä‰∏™<code>key</code>Âà∞ÂØπÂ∫îvalueÁöÑÊò†Â∞ÑÔºåÈÄöËøá‰∏Ä‰∏™<code>hashÂáΩÊï∞</code>ÊääkeyËΩ¨Êç¢ÊàêÊüê‰∏™‚Äú‰ΩçÁΩÆ‚ÄúÔºå‰ªéËøô‰∏™‰ΩçÁΩÆ‰∏äÂèØ‰ª•Áõ¥Êé•ÊãøÂà∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑvalue„ÄÇ‰∏çËøáÔºåÂç≥‰Ωø<code>hashÂáΩÊï∞</code>ÂÜçÂÆåÁæéÔºåÊääÊó†ÈôêÁöÑ<code>key</code>Êò†Â∞ÑÂà∞‰∏Ä‰∏™ÊúâÈôêÂ§ßÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂÜÖ‰πüËøòÊòØ‰∏çÂèØÈÅøÂÖçÂæó‰ºö‰∫ßÁîüÂÜ≤Á™ÅÔºö‰∏§‰∏™‰∏çÂêåÁöÑ<code>key</code>‰ºöË¢´Êò†Â∞ÑÂà∞Âêå‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇ  ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰º†ÁªüÁöÑ<code>hashtable</code>ÊúâÂ•ΩÂá†‰∏™Ëß£ÂÜ≥ÊñπÊ°àÔºåÊúÄÂ∏∏ËßÅÁöÑËß£ÂÜ≥ÂÜ≤Á™ÅÁöÑÂäûÊ≥ïÊúâ‚ÄúÈìæË°®Ê≥ï‚ÄùÂíå‚ÄúÁ∫øÊÄßÊé¢ÊµãÊ≥ï‚Äù„ÄÇ</p>
<h3 id="ÈìæË°®Ê≥ï">ÈìæË°®Ê≥ï
</h3><p>ÈìæË°®Ê≥ïÊòØÊúÄÂ∏∏ËßÅÁöÑÔºåÂÆÉÁöÑ‰∏≠ÂøÉÊÄùÊÉ≥Âú®‰∫éÂ¶ÇÊûúkeyÊò†Â∞ÑÂà∞‰∫ÜÁõ∏ÂêåÁöÑ‰ΩçÁΩÆÔºåÈÇ£‰πàÂ∞±ÊääËøô‰∫õkeyÂíåvalueÂ≠òÂú®‰∏ÄÂº†ÈìæË°®Èáå„ÄÇÊü•ÊâæÁöÑÊó∂ÂÄôÂÖàÁî®hashÂáΩÊï∞ËÆ°ÁÆóÂæóÂà∞‰ΩçÁΩÆÔºåÁÑ∂ÂêéÂÜç‰ªéÂ≠òÊîæÂú®ËØ•‰ΩçÁΩÆ‰∏äÁöÑÈìæË°®Èáå‰∏Ä‰∏™‰∏™ÈÅçÂéÜÊâæÂà∞keyÁõ∏Á≠âÁöÑÊù°ÁõÆ„ÄÇÂÆÉÁöÑÁªìÊûÑÁ±ª‰ººËøôÊ†∑Ôºö<br>
figure 1: ÊãâÈìæÊ≥ïÂÆûÁé∞ <code>hashtable</code><br>
<img src="https://images.hxzhouh.com/blog-images/2024/09/096dbea584499aaf3f2adb6111a89b0e.png"
	
	
	
	loading="lazy"
	
		alt="Pasted image 20240929145217"
	
	
><br>
ÈìæË°®Ê≥ïÂÆûÁé∞ÂæàÁÆÄÂçïÔºåÊ≤°ÈÇ£‰πàÂ§öËæπÁïåÊù°‰ª∂Ë¶ÅËÄÉËôë,ÊèíÂÖ•Êï∞ÊçÆÂíåÂà†Èô§Êï∞ÊçÆÂæàÂø´ÔºåÊèíÂÖ•Áî®ÈìæË°®ÁöÑÂ§¥ÊèíÊ≥ïÔºåÂà†Èô§Âè™ÈúÄË¶ÅÁßªÂä®ÈÉ®ÂàÜËäÇÁÇπÁöÑnextÊåáÈíà„ÄÇÊ≠§Â§ñÔºåÈìæË°®Ê≥ïËÉΩÈááÂèñÊâ©ÂÆπ‰πãÂ§ñÁöÑÊâãÊÆµÈòªÊ≠¢Êü•ËØ¢ÊÄßËÉΩÈÄÄÂåñÔºåÊØîÂ¶ÇÊääËøáÈïøÈìæË°®ËΩ¨Êç¢ÊàêÊêúÁ¥¢Ê†ëÁ≠â„ÄÇÈìæË°®Ê≥ïÁöÑÁº∫ÁÇπÊòØÊú¨Ë∫´ÂØπÁºìÂ≠ò‰∏çÂ§üÂèãÂ•ΩÔºåÂÜ≤Á™ÅËæÉÂ§öÁöÑÊó∂ÂÄôÁºìÂ≠òÂëΩ‰∏≠ÁéáËæÉ‰Ωé‰ªéËÄåÂΩ±ÂìçÊÄßËÉΩ„ÄÇ‰∏çÂêåÁöÑ<code>slot</code>‰πãÈó¥Êï∞ÊçÆÂú®ÂÜÖÂ≠òÈáåÁöÑË∑®Â∫¶ËæÉÂ§ßÔºåÊï∞ÊçÆÁªìÊûÑÊï¥‰ΩìÁöÑÁ©∫Èó¥Â±ÄÈÉ®ÊÄßËæÉÂ∑Æ„ÄÇ</p>
<h3 id="Á∫øÊÄßÊé¢ÊµãÊ≥ï">Á∫øÊÄßÊé¢ÊµãÊ≥ï
</h3><p>Á∫øÊÄßÊé¢ÊµãÊòØÂè¶‰∏ÄÁßçÂ∏∏ËßÅÁöÑÂìàÂ∏åË°®ÂÜ≤Á™ÅËß£ÂÜ≥ÊñπÊ≥ï„ÄÇÂÆÉËß£ÂÜ≥ÂÜ≤Á™ÅÁöÑÊñπÂºè‰∫éÈìæË°®Ê≥ï‰∏çÂêåÔºåÂú®ÈÅáÂà∞hashÂÜ≤Á™ÅÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºö‰ªéÂÜ≤Á™ÅÁöÑ‰ΩçÁΩÆÂºÄÂßãÂêëÂêé‰∏Ä‰∏™‰∏™Êü•ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞‰∏Ä‰∏™Á©∫‰ΩçÔºåÊàñËÄÖÊ≤°ÊâæÂà∞ÁÑ∂ÂêéÁ¥¢ÂºïÂõûÂà∞‰∫ÜÂÜ≤Á™ÅÂèëÁîüÁöÑ‰ΩçÁΩÆÔºåËøôÊó∂‰ºöËøõË°åÊâ©ÂÆπÁÑ∂ÂêéÂÜçÈáçÊñ∞ÊâßË°å‰∏äËø∞ÊèíÂÖ•ÊµÅÁ®ã„ÄÇ<br>
Figure 2 ÔºöÁ∫øÊÄßÊé¢ÊµãÊ≥ïÊ∑ªÂä†Êï∞ÊçÆ Âä®ÁîªÊºîÁ§∫<br>
<img src="https://images.hxzhouh.com/blog-images/2024/09/bfb5cfbb7f611f0fed2f4d58c0eceaf4.gif"
	
	
	
	loading="lazy"
	
		alt="Á∫øÊÄßÊé¢ ÊµãÊ≥ïÂä®ÁîªÊºîÁ§∫"
	
	
></p>
<p>Êü•Êâæ‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈ¶ñÂÖàÈÄöËøáhashÂáΩÊï∞ËÆ°ÁÆóÂæóÂà∞ÂÖÉÁ¥†Â∫îËØ•Âú®ÁöÑ‰ΩçÁΩÆÔºåÁÑ∂Âêé‰ªéËøô‰∏™‰ΩçÁΩÆÂºÄÂßã‰∏Ä‰∏™‰∏™ÊØîËæÉkeyÊòØÂê¶Áõ∏Á≠âÔºåÈÅáÂà∞Ë¢´Âà†Èô§ÁöÑÂÖÉÁ¥†Â∞±Ë∑≥ËøáÔºåÈÅáÂà∞Á©∫ÁöÑslotÂ∞±ÂÅúÊ≠¢ÊêúÁ¥¢ÔºåËøôË°®Á§∫ÂÖÉÁ¥†‰∏çÂú®Ëøô‰∏™ÂìàÂ∏åË°®‰∏≠„ÄÇÊâÄ‰ª•Âà†Èô§ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®ÁöÑÊòØÊ†áËÆ∞Âà†Èô§„ÄÇ<br>
Figure 3: Á∫øÊÄßÊé¢ÊµãÊ≥ïÊü•ÊâæÊï∞ÊçÆÊºîÁ§∫<br>
<img src="https://images.hxzhouh.com/blog-images/2024/09/f0052b66a4e66fb5e9558c4e48601bd7.gif"
	
	
	
	loading="lazy"
	
		alt="Á∫øÊÄßÊé¢ÊµãÊ≥ïÊü•ÊâæÊºîÁ§∫"
	
	
><br>
Á∫øÊÄßÊé¢ÊµãÊ≥ï ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Ë∑üÈìæË°®Ê≥ïÂ∑Æ‰∏çÂ§öÔºåÂÆÉÁöÑ‰ºòÁÇπÊòØÂØπÁºìÂ≠òÂèãÂ•ΩÔºåÁé∞Âú®ÂèØ‰ª•Áî®Êï∞ÁªÑ‰πãÁ±ªÁöÑÁ¥ßÂØÜÊï∞ÊçÆÁªìÊûÑÂÆûÁé∞„ÄÇÂêåÊó∂ÔºåÂÆÉÁöÑÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºö</p>
<ol>
<li>ÂÆûÁé∞Â§çÊùÇÔºå‰∏Ä‰∏™<code>slot</code>ÊúâÂÖÉÁ¥†„ÄÅÁ©∫„ÄÅË¢´Âà†Èô§Ëøô‰∏âÁßçÁä∂ÊÄÅ</li>
<li>hashÂÜ≤Á™ÅÊòØËøûÈîÅÂºèÁöÑÔºå‰∏ÄÂ§ÑÂÜ≤Á™ÅÂèØËÉΩ‰ºöËøûÁª≠ÂΩ±ÂìçÂ§öÂ§ÑÔºåÊúÄÁªàÂØºËá¥ÊèíÂÖ•ÂêåÊ†∑ÁöÑÊï∞ÊçÆÔºåÂÆÉÊâ©ÂÆπÁöÑÊ¨°Êï∞‰ºöÊØîÈìæË°®Ê≥ïÊõ¥Â§öÔºåÊúÄÁªàÂèØËÉΩ‰ºöÁî®ÊéâÊõ¥Â§öÁöÑÂÜÖÂ≠ò„ÄÇ</li>
<li>Âõ†‰∏∫ÂÜ≤Á™Å‰ºöÈÄ†ÊàêÂêéÁª≠ÊèíÂÖ•ÂíåÂà†Èô§ÁöÑËøûÈîÅÂèçÂ∫îÔºåÊâÄ‰ª•Êü•ÊâæËøáÁ®ãÈÄÄÂåñÂà∞<code>O(n)</code>ÁöÑÊ¶ÇÁéáÊõ¥Â§ßÔºåËÄå‰∏îÊ≤°Ê≥ïÂÉèÈìæË°®Ê≥ïÈÇ£Ê†∑ÊääÊúâÂ§ßÈáèÂÜ≤Á™ÅÁöÑÂú∞ÊñπËΩ¨Êç¢ÊàêÊêúÁ¥¢Ê†ë‰πãÁ±ªÁöÑÁªìÊûÑ„ÄÇ<br>
Âõ†‰∏∫Âà†Èô§ÂÖÉÁ¥†È∫ªÁÉ¶ÔºåÂä†‰∏äÂÜ≤Á™Å‰ºöÊúâËøûÈîÅÂΩ±ÂìçÔºåÊâÄ‰ª•ÂæàÂ§öÂ∫ìÂÆûÁé∞ÁöÑ<code>hashtable</code>ÈÉΩÊòØÁî®ÁöÑÈìæË°®Ê≥ï„ÄÇ‰∏çËøáÂç≥‰ΩøÊúâËøô‰πàÂ§öÁº∫ÁÇπÔºåÂÖâÁºìÂ≠òÂèãÂ•ΩÂíåÂÜÖÂ≠òÂà©Áî®ÁéáÈ´òÂú®Áé∞‰ª£ËÆ°ÁÆóÊú∫‰∏äÂ∞±ÊòØÈùûÂ∏∏Â§ßÁöÑÊÄßËÉΩ‰ºòÂäø‰∫ÜÔºåÊâÄ‰ª•ÂÉè<code>golang</code>Âíå<code>python</code>ÈÉΩ‰ºö‰ΩøÁî®Á∫øÊÄßÊé¢ÊµãÊ≥ïÁöÑËøë‰ººÂèòÁßçÊù•ÂÆûÁé∞ÂìàÂ∏åË°®„ÄÇ</li>
</ol>
<h3 id="go-hashmap-Â¶Ç‰ΩïÂ≠òÂÇ®Êï∞ÊçÆ">go hashmap Â¶Ç‰ΩïÂ≠òÂÇ®Êï∞ÊçÆ
</h3><p>Êàë‰ª¨È¶ñÂÖàÊù•ÂõûÂøÜ‰∏Ä‰∏ã<code> Go Map</code> ÊòØÂ¶Ç‰ΩïÂ≠òÂÇ®Êï∞ÊçÆÁöÑ„ÄÇ<br>
figure 4: go map Á§∫ÊÑèÂõæ<br>
<img src="https://images.hxzhouh.com/blog-images/2024/09/02e000848c6f7972b40e08647618d409.png"
	
	
	
	loading="lazy"
	
		alt="Pasted image 20240927142057"
	
	
><br>
Âø´ÈÄüÊÄªÁªì‰∏Ä‰∏ãÔºö</p>
<ul>
<li>Go <code>map</code> Â∫ïÂ±ÇÈÄöËøáÂìàÂ∏åÂáΩÊï∞Â∞Ü key Êò†Â∞ÑÂà∞Â§ö‰∏™ <code>bucket</code>‰∏≠„ÄÇÊØè‰∏™ <code>bucket</code> ÂÖ∑ÊúâÂõ∫ÂÆöÊï∞ÈáèÁöÑÈîÆÂÄºÂØπ<code>slot</code>ÔºåÁî®‰∫éÂ≠òÂÇ® key ÂíåÂØπÂ∫îÁöÑ value„ÄÇ</li>
<li>ÊØè‰∏™ <code>bucket</code> ËÉΩÂ≠òÂÇ® 8‰∏™ÈîÆÂÄºÂØπ„ÄÇÂΩìÂÜ≤Á™ÅÂèëÁîüÊó∂ÔºàÂç≥Â§ö‰∏™ key Ë¢´Êò†Â∞ÑÂà∞Âêå‰∏Ä‰∏™ <code>bucket</code>ÔºâÔºåËøô‰∫õ key Âíå value ‰ºöÂú®Âêå‰∏Ä‰∏™ <code>bucket</code> ÂÜÖÂ≠òÂÇ®„ÄÇ</li>
<li><code>map</code> ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ËÆ°ÁÆó key ÁöÑÂìàÂ∏åÂÄºÔºåÂπ∂Ê†πÊçÆÂìàÂ∏åÂÄºÊâæÂà∞ÂØπÂ∫îÁöÑ <code>bucket</code>„ÄÇ</li>
<li>Â¶ÇÊûúÊüê‰∏™ <code>bucket</code> Ë¢´Â°´Êª°Ôºà8 ‰∏™<code>slot</code>Â∑≤Áî®ÂÆåÔºâÔºå‰ºöÁîüÊàê‰∏Ä‰∏™ <code>overflow bucket</code>ÔºåÁªßÁª≠Â≠òÂÇ®Êñ∞ÁöÑÈîÆÂÄºÂØπ„ÄÇ</li>
<li>Êü•ÊâæÊó∂Êï∞ÊçÆÊó∂ÔºåÈ¶ñÂÖàËÆ°ÁÆóË¶ÅÊü•ÊâæÁöÑ key ÁöÑÂìàÂ∏åÂÄºÔºåÁÑ∂ÂêéÁ°ÆÂÆöËØ•ÂìàÂ∏åÂÄºÊò†Â∞ÑÂà∞ÁöÑ <code>bucket</code>„ÄÇGo ‰ºöÊ£ÄÊü•ÊØè‰∏™<code>slot</code>ÔºåÂ¶ÇÊûú <code>bucket</code> ‰∏≠Â≠òÂú®<code>overflow bucket</code>Ôºå‰ºöÈ°∫Â∫èÊ£ÄÊü•<code>overflow bucket</code>‰∏≠ÁöÑ key„ÄÇ</li>
</ul>
<h2 id="swisstable‰∏ÄÁßçÈ´òÊïàÁöÑ-hashtable-ÂÆûÁé∞ÊñπÂºè">SwissTableÔºå‰∏ÄÁßçÈ´òÊïàÁöÑ <code>hashtable</code> ÂÆûÁé∞ÊñπÂºè
</h2><p><code>SwissTable</code> ÊòØ‰∏ÄÁßçÂü∫‰∫éÊîπËøõÁöÑÁ∫øÊÄßÊé¢ÊµãÊ≥ïÁöÑÂìàÂ∏åË°®ÂÆûÁé∞ÔºåÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥ÊòØÈÄöËøáÊîπËøõÂìàÂ∏åË°®ÁöÑÁªìÊûÑÂíåÂÖÉÊï∞ÊçÆÂ≠òÂÇ®Ôºå‰ºòÂåñ‰∫ÜÊÄßËÉΩÂíåÂÜÖÂ≠ò‰ΩøÁî®„ÄÇSwissTable ÈááÁî®‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂÖÉÊï∞ÊçÆÊéßÂà∂Êú∫Âà∂ÔºåÂ§ßÂπÖÂáèÂ∞ë‰∫Ü‰∏çÂøÖË¶ÅÁöÑÈîÆÊØîËæÉÊìç‰ΩúÔºåÂêåÊó∂Âà©Áî® SIMD Êåá‰ª§ÊèêÂçáÂêûÂêêÈáè„ÄÇ</p>
<p>Êàë‰ª¨ÂõûÈ°æ‰∫Ü‰∏Ä‰∏ã‰∏§ÁßçÂ∏∏ËßÅÁöÑÂìàÂ∏åË°®ÂÆûÁé∞ÔºåÂÆÉ‰ª¨Ë¶Å‰πàÊµ™Ë¥πÂÜÖÂ≠ò‰∏îÂØπÁºìÂ≠ò‰∏çÂèãÂ•ΩÔºõË¶Å‰πàÂèëÁîüÂÜ≤Á™ÅÂêé‰ºöÊõ¥ÂÆπÊòìÂØºËá¥Êü•Êâæ„ÄÅÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÊÄßËÉΩ‰∏ãÈôç„ÄÇËøôËøòÊòØÂú®Êúâ‚ÄúÂÆåÁæéÂìàÂ∏åÂáΩÊï∞‚ÄùÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûú‰Ω†Áî®‰∫Ü‰∏™‰∏çÈÇ£‰πàÂ•ΩÁöÑÂìàÂ∏åÂáΩÊï∞ÔºåÈÇ£‰ºöÂØºËá¥keyÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÂ§ßÂ§ß‰∏äÂçáÔºåÊÄßËÉΩÈóÆÈ¢ò‰ºöÊõ¥Âä†ÊòéÊòæÔºåÊúÄÂùèÁöÑÊÉÖÂÜµ‰∏ãÊÄßËÉΩÁîöËá≥‰ºö‰∏çÂ¶ÇÂú®Êï∞ÁªÑÈáåËøõË°åÁ∫øÊÄßÊêúÁ¥¢„ÄÇ</p>
<p>‰∏öÁïåÂºÄÂßãÂØªÊâæ‰∏ÄÁßçÊó¢ÂØπÁºìÂ≠òÂèãÂ•ΩÂèà‰∏ç‰ºöËÆ©Êü•ÊâæÊÄßËÉΩÈÄÄÂåñÁöÑÂ§™ÂéâÂÆ≥ÁöÑÂìàÂ∏åË°®ÁÆóÊ≥ï„ÄÇÂ§ßÂ§öÊï∞‰∫∫ÁöÑÁ†îÁ©∂ÊñπÂêëÊòØÂºÄÂèëÊõ¥Â•ΩÁöÑÂìàÂ∏åÂáΩÊï∞ÔºåÂú®ËÆ©ÂìàÂ∏åÂáΩÊï∞‰∏çÊñ≠Êé•Ëøë‚ÄúÂÆåÁæéÂìàÂ∏åÂáΩÊï∞‚ÄùÁöÑÂìÅË¥®ÁöÑÂêåÊó∂Áî®ÂêÑÁßçÊâãÊÆµ‰ºòÂåñËÆ°ÁÆóÊÄßËÉΩÔºõÂè¶Â§ñ‰∏Ä‰∫õ‰∫∫Âú®ÊîπËøõÂìàÂ∏åË°®Êú¨Ë∫´ÁöÑÁªìÊûÑÂäõÊ±ÇÂú®ÁºìÂ≠òÂèãÂ•Ω„ÄÅÊÄßËÉΩÂíåÂÜÖÂ≠òÁî®Èáè‰∏äÊâæÂà∞Âπ≥Ë°°„ÄÇ<a class="link" href="https://abseil.io/about/design/swisstables"  target="_blank" rel="noopener"
    ><code>swisstable</code></a>Â∞±Â±û‰∫éÂêéËÄÖ„ÄÇ<br>
<code>swisstable</code>ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂíåÁ∫øÊÄßÊé¢ÊµãÊ≥ïÁöÑÂ∑Æ‰∏çÂ§öÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶‰ªã‰∫éÈìæË°®Ê≥ïÂíåÁ∫øÊÄßÊé¢Êµã‰πãÈó¥„ÄÇ  <code>swisstable</code>ÁöÑÂÆûÁé∞ÊúâÂæàÂ§öÔºåÊàë‰∏ªË¶ÅÂü∫‰∫é<a class="link" href="https://github.com/dolthub/swiss/tree/main"  target="_blank" rel="noopener"
    >dolthub/swiss</a>Ëøô‰∏™ÂÆûÁé∞ËøõË°åÁÆÄË¶ÅÁöÑ‰ªãÁªç„ÄÇ</p>
<h3 id="swisstable-ÁöÑÂü∫Êú¨ÁªìÊûÑ">SwissTable ÁöÑÂü∫Êú¨ÁªìÊûÑ
</h3><p>ËôΩÁÑ∂ÂêçÂ≠óÂèò‰∫ÜÔºåÂÆûÈôÖ‰∏ä<code>swisstable</code>‰æùÁÑ∂ÊòØ<code>hashtable</code>ÔºåËÄå‰∏î‰ΩøÁî®ÊîπËøõÁöÑÁ∫øÊÄßÊé¢ÊµãÊ≥ïÊù•Ëß£ÂÜ≥hashÂÜ≤Á™Å„ÄÇ  ÊâÄ‰ª•Â§ßÂÆ∂Â∫îËØ•ËÉΩÊÉ≥Ë±°Âà∞ÔºåswisstableÁöÑÂ∫ïÂ±ÇÂ∫îËØ•‰πüÊòØ‰∏™Á±ª‰ººÊï∞ÁªÑÁöÑÁªìÊûÑ„ÄÇÊúâ‰∫ÜËøôÊ†∑Â§ßËá¥ÁöÑÊ®°Á≥äÂç∞Ë±°Â∞±ÂèØ‰ª•‰∫ÜÔºåÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Êù•ÁúãÁúã<a class="link" href="https://github.com/dolthub/swiss/blob/f4b2babd2bc1cf0a2d66bab4e579ca35b6202338/map.go#L27"  target="_blank" rel="noopener"
    >swisstable</a>ÁöÑÁªìÊûÑ‰∫Ü:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Map</span><span class="p">[</span><span class="nx">K</span> <span class="nx">comparable</span><span class="p">,</span> <span class="nx">V</span> <span class="nx">any</span><span class="p">]</span> <span class="kd">struct</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">ctrl</span>     <span class="p">[]</span><span class="nx">metadata</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">groups</span>   <span class="p">[]</span><span class="nx">group</span><span class="p">[</span><span class="nx">K</span><span class="p">,</span> <span class="nx">V</span><span class="p">]</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">hash</span>     <span class="nx">maphash</span><span class="p">.</span><span class="nx">Hasher</span><span class="p">[</span><span class="nx">K</span><span class="p">]</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">resident</span> <span class="kt">uint32</span>   <span class="c1">//currently occupied slots in the hash map 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">dead</span>     <span class="kt">uint32</span>  <span class="c1">//A tombstone indicates a slot that was previously occupied but has been deleted 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">limit</span>    <span class="kt">uint32</span>  <span class="c1">// This field represents the maximum number of elements that can be added to the hash map before it needs to be resized. It is calculated based on the load factor and the number of groups.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// metadata is the h2 metadata array for a group.  
</span></span></span><span class="line"><span class="cl"><span class="c1">// find operations first probe the controls bytes  
</span></span></span><span class="line"><span class="cl"><span class="c1">// to filter candidates before matching keys  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">metadata</span> <span class="p">[</span><span class="nx">groupSize</span><span class="p">]</span><span class="kt">int8</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// group is a group of 16 key-value pairstype group[K comparable, V any] struct {  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">keys</span>   <span class="p">[</span><span class="nx">groupSize</span><span class="p">]</span><span class="nx">K</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">values</span> <span class="p">[</span><span class="nx">groupSize</span><span class="p">]</span><span class="nx">V</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú®<code>swisstable</code> ÁöÑÂÆûÁé∞‰∏≠Ôºåctrl ÊòØ‰∏Ä‰∏™ <code>[]metadata</code> Ôºå<code>[]metadata</code> Ë∑ü<code> []group[K, V]</code> Êï∞ÈáèÂØπÂ∫î „ÄÇÊØè‰∏™<code>group</code>Êúâ8‰∏™<code>slot</code></p>
<p>hash‰ºöË¢´ÂàÜÊàê‰∏§ÈÉ®ÂàÜÔºö<code>57bits</code>ÈïøÂ∫¶ÁöÑ‰∏∫H1ÔºåÁî®‰∫éÁ°ÆÂÆö‰ªéÂì™‰∏™<code>groups</code>ÂºÄÂßãÊé¢ÊµãÔºåÂâ©‰∏ãÁöÑ<code>7bits</code>Âè´ÂÅöH2ÔºåÂàöÂ•ΩÊîæÂú®<code>metadata</code>‰∏≠Ôºå Ë¢´Áî®‰ΩúÊòØÂΩìÂâçkeyÁöÑÂìàÂ∏åÁâπÂæÅÂÄºÔºåÁî®‰∫éÂêéÈù¢ÁöÑÊü•ÊâæÂíåËøáÊª§„ÄÇ<br>
<code>swisstable</code>ÊØî‰º†ÁªüÂìàÂ∏åË°®Êõ¥Âø´ÁöÑÁßòËØÄÂ∞±Âú®‰∫éËøô‰∫õË¢´Âè´ÂÅö<code>ctrl</code>ÁöÑmetadata„ÄÇÊéßÂà∂‰ø°ÊÅØ‰∏ªË¶ÅÊòØ‰∏ãÈù¢ËøôÂá†ÁßçÔºö</p>
<ul>
<li>slotÊòØÂê¶‰∏∫Á©∫: <code>0b10000000</code></li>
<li>slotÈáåÁöÑÂÖÉÁ¥†ÊòØÂê¶Â∑≤ÁªèË¢´Âà†Èô§: <code>0b11111110</code></li>
<li>slotÈáåÂ≠òÁöÑÈîÆÂÄºÂØπÁöÑkeyÁöÑÂìàÂ∏åÁâπÂæÅÔºàH2Ôºâ<code>0bh2</code><br>
ÂØπ‰∫éÁ©∫„ÄÅÂà†Èô§ËøôÂá†ÁßçÁâπÊÆäÁä∂ÊÄÅÔºåÂØπÂ∫îÁöÑÂÄºÈÉΩÊòØÁâπÊÑèËÆæÁΩÆÁöÑÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÉΩÂ§üÂú®ÂêéÈù¢ÁöÑÂåπÈÖç‰∏≠‰ΩøÁî®<code>SIMD</code>Êåá‰ª§ÔºåËé∑ÂæóÊúÄÈ´òÁöÑÊÄßËÉΩ„ÄÇ</li>
</ul>
<p>Êü•Êâæ„ÄÅÊèíÂÖ•„ÄÅÂà†Èô§ÈÉΩÊòØÂü∫‰∫éËøô‰∫õ<code>ctrl</code>ÁöÑÔºåÂÆÉ‰ª¨ÈùûÂ∏∏Â∞èÔºåÂèØ‰ª•Â∞ΩÈáèÂ§öÁöÑË¢´ÊîæÂÖ•CPUÁöÑÈ´òÈÄüÁºìÂ≠òÔºåÂêåÊó∂ÂèàÂåÖÂê´‰∫ÜË∂≥Â§üÁöÑ‰ø°ÊÅØ‰ª•Êª°Ë∂≥ÂìàÂ∏åË°®ÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÇËÄåslotÂ∞±Âè™Áî®Êù•Â≠òÊï∞ÊçÆÔºå<code>ctrl</code>Âíå<code>slot</code>‰∏Ä‰∏ÄÂØπÂ∫îÔºåÊéßÂà∂‰ø°ÊÅØÂú®<code>ctrl</code>ÈáåÁöÑÁ¥¢ÂºïÂ∞±ÊòØÂØπÂ∫îÁöÑÊï∞ÊçÆÂú®slotÈáåÁöÑÁ¥¢ÂºïÔºå‰∏ãÈù¢‰ª•Ê∑ªÂä†Êï∞ÊçÆ‰∏∫‰æãÔºåÊü•ÊâæÔºåÂà†Èô§ ÈÉΩÂ∑Æ‰∏çÂ§ö„ÄÇ</p>
<h3 id="Ê∑ªÂä†Êï∞ÊçÆ">Ê∑ªÂä†Êï∞ÊçÆ
</h3><p><code>swisstable</code> Ê∑ªÂä†Êï∞ÊçÆÁöÑËøáÁ®ãÂàÜÊàêÂá†‰∏™Ê≠•È™§„ÄÇ</p>
<ol>
<li>ËÆ°ÁÆóÂìàÂ∏åÂÄºÂπ∂ÂàÜÂâ≤‰∏∫ <code>h1</code> Âíå <code>h2</code> , Ê†πÊçÆ <code>h1</code> Á°ÆÂÆöÂºÄÂßãÊé¢ÊµãÁöÑ<code>groups</code> ,</li>
<li>‰ΩøÁî® <code>metaMatchH2</code> Ê£ÄÊü•ÂΩìÂâçÁªÑ‰∏≠ÁöÑ <code>metadata</code> ÊòØÂê¶ÊúâÂåπÈÖçÁöÑ<code> h2</code>„ÄÇÂ¶ÇÊûúÊâæÂà∞ÂåπÈÖçÁöÑ <code>h2</code>ÔºåÂàôËøõ‰∏ÄÊ≠•Ê£ÄÊü•ÂØπÂ∫îÊßΩ‰Ωç‰∏≠ÁöÑÈîÆÊòØÂê¶‰∏éÁõÆÊ†áÈîÆÁõ∏Âêå„ÄÇÂ¶ÇÊûúÁõ∏ÂêåÔºåÂàôÊõ¥Êñ∞ÂÄºÂπ∂ËøîÂõû„ÄÇ</li>
<li>Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÁöÑÈîÆÔºå‰ΩøÁî® <code>metaMatchEmpty</code> Ê£ÄÊü•ÂΩìÂâçÁªÑ‰∏≠ÊòØÂê¶ÊúâÁ©∫Èó≤<code>slot</code>„ÄÇÂ¶ÇÊûúÊúâ<code>slot</code>ÔºåÂàôÊèíÂÖ•Êñ∞ÁöÑÈîÆÂÄºÂØπÔºåÂπ∂Êõ¥Êñ∞ <code>metadata</code> Âíå <code>resident</code> ËÆ°Êï∞„ÄÇ</li>
<li>Â¶ÇÊûúÂΩìÂâçÁªÑÊ≤°ÊúâÁ©∫Èó≤ÊßΩ‰ΩçÔºåËøõË°åÁ∫øÊÄßÊé¢ÊµãÔºåÊ£ÄÊü•‰∏ã‰∏Ä‰∏™<code>groups</code>„ÄÇ</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Map</span><span class="p">[</span><span class="nx">K</span><span class="p">,</span> <span class="nx">V</span><span class="p">])</span> <span class="nf">Put</span><span class="p">(</span><span class="nx">key</span> <span class="nx">K</span><span class="p">,</span> <span class="nx">value</span> <span class="nx">V</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">m</span><span class="p">.</span><span class="nx">resident</span> <span class="o">&gt;=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">limit</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">       <span class="nx">m</span><span class="p">.</span><span class="nf">rehash</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nf">nextSize</span><span class="p">())</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">hi</span><span class="p">,</span> <span class="nx">lo</span> <span class="o">:=</span> <span class="nf">splitHash</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nf">Hash</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">g</span> <span class="o">:=</span> <span class="nf">probeStart</span><span class="p">(</span><span class="nx">hi</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">))</span>  
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">{</span> <span class="c1">// inlined find loop  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="nx">matches</span> <span class="o">:=</span> <span class="nf">metaMatchH2</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">ctrl</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span> <span class="nx">lo</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">       <span class="k">for</span> <span class="nx">matches</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">s</span> <span class="o">:=</span> <span class="nf">nextMatch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">matches</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="nx">key</span> <span class="o">==</span> <span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">keys</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="p">{</span> <span class="c1">// update  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">keys</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="p">=</span> <span class="nx">key</span>  
</span></span><span class="line"><span class="cl">             <span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">values</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="p">=</span> <span class="nx">value</span>  
</span></span><span class="line"><span class="cl">             <span class="k">return</span>  
</span></span><span class="line"><span class="cl">          <span class="p">}</span>  
</span></span><span class="line"><span class="cl">       <span class="p">}</span>  
</span></span><span class="line"><span class="cl">       <span class="c1">// |key| is not in group |g|,  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="c1">// stop probing if we see an empty slot       matches = metaMatchEmpty(&amp;m.ctrl[g])  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="k">if</span> <span class="nx">matches</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span> <span class="c1">// insert  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">s</span> <span class="o">:=</span> <span class="nf">nextMatch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">matches</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">keys</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="p">=</span> <span class="nx">key</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">values</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span> <span class="p">=</span> <span class="nx">value</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">m</span><span class="p">.</span><span class="nx">ctrl</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="nx">s</span><span class="p">]</span> <span class="p">=</span> <span class="nb">int8</span><span class="p">(</span><span class="nx">lo</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">m</span><span class="p">.</span><span class="nx">resident</span><span class="o">++</span>  
</span></span><span class="line"><span class="cl">          <span class="k">return</span>  
</span></span><span class="line"><span class="cl">       <span class="p">}</span>  
</span></span><span class="line"><span class="cl">       <span class="nx">g</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">// linear probing  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="k">if</span> <span class="nx">g</span> <span class="o">&gt;=</span> <span class="nb">uint32</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">groups</span><span class="p">))</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">g</span> <span class="p">=</span> <span class="mi">0</span>  
</span></span><span class="line"><span class="cl">       <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">metaMatchH2</span><span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">metadata</span><span class="p">,</span> <span class="nx">h</span> <span class="nx">h2</span><span class="p">)</span> <span class="nx">bitset</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="c1">// https://graphics.stanford.edu/~seander/bithacks.html##ValueInWord  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nf">hasZeroByte</span><span class="p">(</span><span class="nf">castUint64</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="p">^</span> <span class="p">(</span><span class="nx">loBits</span> <span class="o">*</span> <span class="nb">uint64</span><span class="p">(</span><span class="nx">h</span><span class="p">)))</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">nextMatch</span><span class="p">(</span><span class="nx">b</span> <span class="o">*</span><span class="nx">bitset</span><span class="p">)</span> <span class="kt">uint32</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="o">:=</span> <span class="nb">uint32</span><span class="p">(</span><span class="nx">bits</span><span class="p">.</span><span class="nf">TrailingZeros64</span><span class="p">(</span><span class="nb">uint64</span><span class="p">(</span><span class="o">*</span><span class="nx">b</span><span class="p">)))</span>  
</span></span><span class="line"><span class="cl">    <span class="o">*</span><span class="nx">b</span> <span class="o">&amp;=</span> <span class="p">^(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nx">s</span><span class="p">)</span> <span class="c1">// clear bit |s|  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">s</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span>   <span class="c1">// div by 8  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËôΩÁÑ∂ÔºåÊ≠•È™§ÂæàÂ∞ëÔºå‰ΩÜÊòØÈáåÈù¢‰ΩøÁî®‰∫ÜÊØîËæÉÂ§çÊùÇÁöÑ‰ΩçËøêÁÆóÔºåÊåâÁÖßÊ≠£Â∏∏ÁöÑÊµÅÁ®ãÔºåÈúÄË¶ÅÊää<code>h2</code> Ë∑üÊâÄÊúâÁöÑ ÂØπÊØîÔºåÁõ¥Âà∞ÊâæÂà∞Êàë‰ª¨Ë¶ÅÁöÑÁõÆÊ†á„ÄÇ<code>swisstable</code> ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂæàÂ∑ßÂ¶ôÁöÑÊñπÂºèÊù•ÂÆûÁé∞Ëøô‰∏™ÁõÆÊ†á„ÄÇ</p>
<ul>
<li>È¶ñÂÖàÂ∞Ü<code>h2 * 0x0101010101010101</code>  ÂæóÂà∞‰∏Ä‰∏™uint64ÔºåËøôÊ†∑Â∞±ËÉΩ‰∏ÄÊ¨°ÊÄßÂØπÊØî 8‰∏™ <code>ctrl</code></li>
<li>ÁÑ∂ÂêéË∑ü<code>meta</code> ÂÅö xor ËøêË°å„ÄÇ Â¶ÇÊûú <code>h2</code> Â≠òÂú®‰∫é <code>metadata</code> ‰∏≠„ÄÇÈÇ£‰πàÂØπÂ∫îÁöÑbit Â∞±ÊòØ<code>0b00000000</code> Ôºå <code>metaMatchH2</code> ÁöÑ‰ΩúÁî®ÔºåÂèØ‰ª•Áî® ‰∏ãÈù¢ÁöÑÂçïÂÖÉÊµãËØïÁêÜËß£Ôºå</li>
<li><code>nextMatch</code>  Áî®‰∫éÁ°ÆÂÆö key Âú®group‰∏≠ÁöÑÁöÑÂÖ∑‰Ωì‰ΩçÁΩÆ„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestMetaMatchH2</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">metaData</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="nx">metadata</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">metaData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="kt">int8</span><span class="p">{</span><span class="mh">0x7f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">}</span> <span class="c1">// Imitate ctrl
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">m</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">metaData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="nx">h</span> <span class="o">:=</span> <span class="mh">0x7f</span>
</span></span><span class="line"><span class="cl">	<span class="nx">metaUint64</span> <span class="o">:=</span> <span class="nf">castUint64</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">h2Pattern</span> <span class="o">:=</span> <span class="nx">loBits</span> <span class="o">*</span> <span class="nb">uint64</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">xorResult</span> <span class="o">:=</span> <span class="nx">metaUint64</span> <span class="p">^</span> <span class="nx">h2Pattern</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;metaUint64: %b\n&#34;</span><span class="p">,</span> <span class="nx">xorResult</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">r</span> <span class="o">:=</span> <span class="nf">hasZeroByte</span><span class="p">(</span><span class="nx">xorResult</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;r: %b\n&#34;</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">r</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">	    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nf">nextMatch</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">r</span><span class="p">))</span>  
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">----</span>
</span></span><span class="line"><span class="cl"><span class="nx">output</span>
</span></span><span class="line"><span class="cl"><span class="c1">// metaUint64: 00000000 11111110 11111110 11111110 0000000 01111111 01111111 00000000
</span></span></span><span class="line"><span class="cl"><span class="c1">// r: 10000000 00000000 00000000 00000000 10000000 00000000 00000000 10000000
</span></span></span><span class="line"><span class="cl"><span class="c1">// 0
</span></span></span><span class="line"><span class="cl"><span class="c1">// 3
</span></span></span><span class="line"><span class="cl"><span class="c1">// 7
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="swisstable-ÁöÑ‰ºòÂäø">SwissTable ÁöÑ‰ºòÂäø
</h3><p>ÁúãÂÆåSwissTableÁöÑÂÆûÁé∞ÔºåÂèØ‰ª•ÊÄªÁªì‰∏∫‰∏ãÈù¢Âá†ÁÇπÔºö</p>
<ul>
<li>ÂØπ<code>hashtable</code>ÁöÑÊìç‰Ωú‰ªé<code>slot</code>ËΩ¨ÁßªÂà∞‰∫Ü<code>ctrl</code>‰∏äÔºå<code>ctrl</code>Êõ¥Â∞èÊõ¥ÂÆπÊòìË¢´Â°´ÂÖ•CPUÁöÑÈ´òÈÄüÁºìÂ≠òÔºåÂõ†Ê≠§ÊØîÁõ¥Êé•Âú®<code>slot</code>‰∏äÊìç‰ΩúÊõ¥Âø´ÔºåÂç≥‰ΩøÈúÄË¶ÅÂ§ö‰ªòÂá∫‰∏ÄÊ¨°‰ªé<code>ctrl</code>ÂæóÂà∞Á¥¢ÂºïÂêéÂÜçÂéªÊü•Êâæ<code>slot</code>ÁöÑ‰ª£‰ª∑„ÄÇ</li>
<li>ËÆ∞ÂΩïÂìàÂ∏åÁâπÂæÅÂÄºÔºåÂáèÂ∞ë‰∫ÜÊó†ÊÑè‰πâÁöÑkeyÁ≠âÂÄºÊØîËæÉÔºåËøôÊòØÁ∫øÊÄßÊé¢ÊµãÊ≥ïÊÄßËÉΩ‰∏ãÈôçÁöÑ‰∏ªË¶ÅÂÖÉÂá∂„ÄÇ</li>
<li>ÂØπ<code>slot</code>ÁöÑÊü•ÊâæÂíåÊìç‰ΩúÊòØÈÄöËøá<code>ctrl</code>ÊâπÈáèËøõË°åÁöÑÔºåÂçï‰ΩçÊó∂Èó¥ÂÜÖÂêûÂêêÈáèÊúâÊòæËëóÊèêÂçá„ÄÇ</li>
<li>Ê†áÂøó‰ΩçÁöÑÂÄºÂíåÊï¥‰∏™Êï∞ÊçÆÁªìÊûÑÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÈÉΩ‰∏∫<code>SIMD</code>ËøõË°å‰∫Ü‰ºòÂåñÔºåÂèØ‰ª•ÂÖÖÂàÜÂèëÊå•ÊÄßËÉΩ‰ºòÂäø„ÄÇ</li>
<li>ÂØπ<code>slot</code>‰πüÊúâ‰ºòÂåñÔºåÊØîÂ¶ÇÂØπÂ§™Â§ßÁöÑÊï∞ÊçÆ‰ºöÂéãÁº©Â≠òÂÇ®‰ª•ÊèêÈ´òÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ<br>
<code>swisstable</code> Ëß£ÂÜ≥‰∫ÜÁ©∫Èó¥Â±ÄÈÉ®ÊÄßÈóÆÈ¢òÁöÑÂü∫Á°Ä‰∏äÔºåËøòÂà©Áî®‰∫ÜÁé∞‰ª£CPUÁöÑÁâπÊÄßÊâπÈáèÊìç‰ΩúÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÊÄßËÉΩ‰ºöÊúâÈ£ûË∑ÉËà¨ÁöÑÊèêÂçá„ÄÇ</li>
</ul>
<p>ÊúÄÂêéÂú®ÊàëÊú¨Âú∞<code>macbook m1</code> Ôºà‰∏çÊîØÊåÅSIMDÔºâ‰∏äË∑ëbenchmarkÔºåÁªìÊûúÂ¶Ç‰∏ãÔºåÂú®Â§ßmapÂú∫ÊôØ‰∏ãÔºå<code>swisstable</code> ÊÄßËÉΩÊúâÊØîËæÉÊòéÊòæÁöÑÊèêÂçá„ÄÇ<br>
Figure 5:  <code>swisstable</code> ÂÆòÊñπbenchmark<br>
<img src="https://images.hxzhouh.com/blog-images/2024/09/a59e237341d6076ed79395bd1d1b5f90.png"
	
	
	
	loading="lazy"
	
		alt="Pasted image 20240930110905"
	
	
></p>
<h2 id="ÊÄªÁªì">ÊÄªÁªì
</h2><p>ÁõÆÂâçgo ÂÆòÊñπËøòÊ≤°Êúâ<code>swisstable</code> ÁöÑÂÆûÁé∞Ôºå ‰ΩÜÊòØÂÖ≥‰∫éÂÆÉÁöÑËÆ®ËÆ∫‰∏ÄÁõ¥ÂÜçÁªßÁª≠ÔºåÁõÆÂâçÁ§æÂå∫‰πüÊúâÂá†ÁßçÂÆûÁé∞„ÄÇÊØîÂ¶Ç<a class="link" href="https://github.com/mhmtszr/concurrent-swiss-map"  target="_blank" rel="noopener"
    >concurrent-swiss-map</a> Ôºå<a class="link" href="https://github.com/dolthub/swiss"  target="_blank" rel="noopener"
    >swiss</a> Á≠â„ÄÇ<br>
‰∏çËøáÂÆûÁé∞ÈÉΩ‰∏çÊòØÁâπÂà´ÂÆåÁæéÔºåÊØîÂ¶ÇÂú®Â∞èmap Âú∫ÊôØ‰∏ã<code>swisstable</code> ÁöÑÊÄßËÉΩÁîöËá≥ÊØî‰∏ç‰∏ä <code>runtime_map</code> Á≠â„ÄÇ‰ΩÜÊòØ<code>swisstable</code> Ë°®Áé∞Âá∫Êù•ÁöÑÊΩúÂäõÂ∑≤ÁªèÂú®ÂÖ∂‰ªñËØ≠Ë®Ä‰∏äÁöÑË°®Áé∞ÔºåËØ¥ÊòéÂÆÉÂÄºÂæóÊàë‰ª¨ÊúüÂæÖ„ÄÇ</p>
<h2 id="ÂèÇËÄÉÊñáÊ°£">ÂèÇËÄÉÊñáÊ°£
</h2><ul>
<li>dolthub <a class="link" href="https://www.dolthub.com/blog/2023-03-28-swiss-map/"  target="_blank" rel="noopener"
    >https://www.dolthub.com/blog/2023-03-28-swiss-map/</a></li>
<li>swisstable ÂéüÁêÜ <a class="link" href="https://abseil.io/about/design/swisstables"  target="_blank" rel="noopener"
    >https://abseil.io/about/design/swisstables</a></li>
<li>È¶ñÊ¨°ÊèêÂá∫<code>swisstable</code>ÁöÑcppconÊºîËÆ≤Ôºö<a class="link" href="https://www.youtube.com/watch?v=ncHmEUmJZf4"  target="_blank" rel="noopener"
    >https://www.youtube.com/watch?v=ncHmEUmJZf4</a></li>
<li>ÈíàÂØπ<code>swisstable</code>ÁÆóÊ≥ïÁöÑ‰∏Ä‰∫õÊîπËøõÔºö<a class="link" href="https://www.youtube.com/watch?v=JZE3_0qvrMg"  target="_blank" rel="noopener"
    >https://www.youtube.com/watch?v=JZE3_0qvrMg</a></li>
<li>‰ΩçËøêÁÆóÂéüÁêÜ:  <a class="link" href="http://graphics.stanford.edu/~seander/bithacks.html##ValueInWord"  target="_blank" rel="noopener"
    >http://graphics.stanford.edu/~seander/bithacks.html##ValueInWord</a></li>
<li>hash ÂáΩÊï∞ÂØπÊØîÔºö <a class="link" href="https://aras-p.info/blog/2016/08/09/More-Hash-Function-Tests/"  target="_blank" rel="noopener"
    >https://aras-p.info/blog/2016/08/09/More-Hash-Function-Tests/</a></li>
<li>Âè¶Â§ñ‰∏ÄÁØá‰ΩçËøêÁÆóÂéüÁêÜÁöÑÊñáÁ´† <a class="link" href="https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/"  target="_blank" rel="noopener"
    >https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/</a></li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/zh-cn/tags/go/">Go</a>
        
            <a href="/zh-cn/tags/swisstable/">SwissTable</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            ÊúÄÂêéÊõ¥Êñ∞‰∫é Sep 30, 2024 11:25 CST
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/zh-cn/p/limit%E9%99%90%E6%B5%81.zh-cn/">
        
        
            <div class="article-image">
                
                    <img src="https://images.hxzhouh.com/blog-images/2024/09/f146e1aedafc425732135df81c5cd244.png" loading="lazy" data-key="" data-hash="https://images.hxzhouh.com/blog-images/2024/09/f146e1aedafc425732135df81c5cd244.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">limitÈôêÊµÅ.zh-cn</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/zh-cn/p/go-%E6%8F%90%E6%A1%88-json-v2-%E6%9D%A5%E4%BA%86/">
        
        
            <div class="article-image">
                
                    <img src="https://images.hxzhouh.com/blog-images/2024/09/5cfcc61c5e45994e3e35ceb82bfa6bc8.png" loading="lazy" data-key="" data-hash="https://images.hxzhouh.com/blog-images/2024/09/5cfcc61c5e45994e3e35ceb82bfa6bc8.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Go ÊèêÊ°à: JSON v2 Êù•‰∫Ü</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/zh-cn/p/%E8%A7%A3%E6%9E%90go-varint-%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/">
        
        

        <div class="article-details">
            <h2 class="article-title">Ëß£ÊûêGo: varint ÁöÑ‰ΩøÁî®‰∏éÂÆûÁé∞ÂéüÁêÜ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/zh-cn/p/go-runtime.setfinalizer/">
        
        
            <div class="article-image">
                
                    <img src="https://images.hxzhouh.com/blog-images/2024/09/44dc3c5b905dd33169c691b6ec42b4cf.png" loading="lazy" data-key="" data-hash="https://images.hxzhouh.com/blog-images/2024/09/44dc3c5b905dd33169c691b6ec42b4cf.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Go runtime.SetFinalizer</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/zh-cn/p/%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%E7%9A%84%E7%A8%8B%E5%BA%8F/">
        
        

        <div class="article-details">
            <h2 class="article-title">Â¶Ç‰ΩïÂÜôÂá∫ÂÜÖÂ≠òÊ≥ÑÈú≤ÁöÑÁ®ãÂ∫èÔºü</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>


    
        
    <script src="//cdn.jsdelivr.net/npm/twikoo@1.6.21/dist/twikoo.all.min.js"></script>
<div id="tcomment"></div>
<style>
    .twikoo {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
    :root[data-scheme="dark"] {
        --twikoo-body-text-color-main: rgba(255, 255, 255, 0.9);
        --twikoo-body-text-color: rgba(255, 255, 255, 0.7);
    }
    .twikoo .el-input-group__prepend,
    .twikoo .tk-action-icon,
    .twikoo .tk-submit-action-icon,
    .twikoo .tk-time,
    .twikoo .tk-comments-no,
    .twikoo .tk-comments-count {
        color: var(--twikoo-body-text-color);
    }
    .twikoo .el-input__inner,
    .twikoo .el-textarea__inner,
    .twikoo .tk-preview-container,
    .twikoo .tk-content,
    .twikoo .tk-nick,
    .twikoo .tk-send {
        color: var(--twikoo-body-text-color-main);
    }
    .twikoo .el-button{
        color: var(--twikoo-body-text-color)!important;
    }
    .twikoo .el-input__count {
        color: var(--twikoo-body-text-color) !important;
    }
    .OwO .OwO-body {
        background-color: var(--body-background) !important;
        color: var(--body-text-color) !important;
    }
</style><script>
    twikoo.init({
        envId: 'https:\/\/twikoo.yixiao9206.cn',
        el: '#tcomment',lang: 'en',})
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2024 Copyright ¬© 2023 huizhou92
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.26.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
     
	
	<div class="busuanzi-footer">
	<span id="busuanzi_container_site_pv">
		Total site visits: <span id="busuanzi_value_site_pv"></span>
	</span>
	<span id="busuanzi_container_site_uv">
		Total Visitors: <span id="busuanzi_value_site_uv"></span>
	</span>
	</div></footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
